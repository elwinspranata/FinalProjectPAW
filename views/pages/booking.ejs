<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pemesanan Tiket Kereta Api</title>
    <link rel="stylesheet" href="booking.css">
</head>
<body>
    <main>
        <div class="container">
            <!-- Formulir Pemesanan -->
            <form id="booking-form" action="/confirm" method="POST">
                <!-- Form Pencarian Keberangkatan -->
                <section class="form-section">
                    <h2>Pilih Keberangkatan</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="departure">Stasiun Asal</label>
                            <input type="text" id="departure" name="departure" placeholder="Masukkan stasiun asal" required>
                        </div>
                        <div class="form-group">
                            <label for="destination">Stasiun Tujuan</label>
                            <input type="text" id="destination" name="destination" placeholder="Masukkan stasiun tujuan" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="date">Tanggal Keberangkatan</label>
                        <input type="date" id="date" name="date" required>
                    </div>
                </section>

                <!-- Pemilihan Kelas -->
                <section class="class-selection-section">
                    <h2>Pilih Kelas Kereta</h2>
                    <div class="class-selection">
                        <div class="class-card" data-class="ekonomi" onclick="selectClass('ekonomi')">
                            <h3>Ekonomi</h3>
                            <p>Rp 150.000</p>
                        </div>
                        <div class="class-card" data-class="bisnis" onclick="selectClass('bisnis')">
                            <h3>Bisnis</h3>
                            <p>Rp 250.000</p>
                        </div>
                        <div class="class-card" data-class="eksekutif" onclick="selectClass('eksekutif')">
                            <h3>Eksekutif</h3>
                            <p>Rp 350.000</p>
                        </div>
                    </div>
                    <input type="hidden" id="selected-class" name="class" required>
                </section>

                <!-- Pemilihan Kursi -->
                <section class="seat-selection-section">
                    <h2>Pilih Kursi</h2>
                    <div class="seat-map">
                        <% for (let i = 1; i <= 40; i++) { %>
                            <span class="seat-item" data-seat="<%= i %>" onclick="selectSeat(this)"><%= i %></span>
                        <% } %>
                    </div>
                    <input type="hidden" id="selected-seat" name="seat" required>
                </section>

                <!-- Data Penumpang -->
                <section class="user-details-section">
                    <h2>Data Diri Penumpang</h2>
                    <div class="form-group">
                        <label for="name">Nama Lengkap</label>
                        <input type="text" id="name" name="name" placeholder="Nama sesuai KTP" required>
                    </div>
                    <div class="form-group">
                        <label for="idNumber">Nomor Identitas</label>
                        <input type="text" id="idNumber" name="idNumber" placeholder="Nomor KTP/NIK" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Nomor HP</label>
                        <input type="tel" id="phone" name="phone" placeholder="08xxxx" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" placeholder="me@contoh.co.id" required>
                    </div>
                </section>

                <!-- Tombol Submit -->
                <div class="btn-container">
                    <button type="submit" class="btn">Pesan Tiket</button>
                </div>
            </form>
        </div>
    </main>

    <footer class="footer">
        <p class="footer-content">Kelompok 3: Elwin Pranata N 022, Ihsan Putra R 041, Ryan Syaputra MA 025, Haris Shihab D 015</p>
    </footer>

    <script>
        function selectClass(classType) {
            document.querySelectorAll('.class-card').forEach(card => card.classList.remove('selected'));
            document.querySelector(`[data-class="${classType}"]`).classList.add('selected');
            document.getElementById('selected-class').value = classType;
        }

        function selectSeat(seatElement) {
            document.querySelectorAll('.seat-item').forEach(seat => seat.classList.remove('selected'));
            seatElement.classList.add('selected');
            document.getElementById('selected-seat').value = seatElement.dataset.seat;
        }
    </script>
</body>
</html>
